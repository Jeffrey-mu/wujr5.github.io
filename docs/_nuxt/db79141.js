(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{609:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var o=n(601),c=n.n(o),r=n(616),l=n.n(r),d=n(606),h=n.n(d),m=c()();function v(){return new h.a((function(t,e){var n=prompt("访问密码：");n?m.bucket({slug:"4d7c8cd0-2822-11ec-8e75-2f845ec5c57c",read_key:"KW8eCqNzGJ8U05aYWCUNHKueNH5COLxAOv1Ou71XIPArrTIDeU"}).getObjects({query:{type:"auths",$and:[{"metadata.username":"admin"},{"metadata.password":l()(n)}]},limit:200}).then((function(e){t(e.objects[0].metadata.extend.posts_write_key)})).catch((function(t){window.close(),e()})):e()}))}},622:function(t,e,n){var content=n(662);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("6079f94c",content,!0,{sourceMap:!1})},623:function(t,e,n){var content=n(664);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("4d9abf5b",content,!0,{sourceMap:!1})},661:function(t,e,n){"use strict";n(622)},662:function(t,e,n){var o=n(13)(!1);o.push([t.i,".todo-item .check-item{opacity:0}.todo-item:hover .check-item{opacity:1}.news:visited{color:grey}",""]),t.exports=o},663:function(t,e,n){"use strict";n(623)},664:function(t,e,n){var o=n(13)(!1);o.push([t.i,".p-20{padding:20px}.pb-15{padding-bottom:15px}.bd-1{border:1px solid #e1e5ee}.br-5{border-radius:5px}.px-10{padding-left:10px;padding-right:10px}.py-20{padding-top:20px;padding-bottom:20px}.ml-20{margin-left:20px}.mt-10,.my-10{margin-top:10px}.my-10{margin-bottom:10px}.w-730{width:730px}.h-46{height:46px}.ml-200{margin-left:200px}.wp-100{width:100%}.my-20{margin-top:20px;margin-bottom:20px}.w-168{width:168px}.h-60{height:60px}.lh-60{line-height:60px}.mr-18{margin-right:18px}.mb-10{margin-bottom:10px}.br-4{border-radius:4px}.br-8{border-radius:8px}.px-20{padding-left:20px;padding-right:20px}.py-10{padding-top:10px;padding-bottom:10px}.w-200{width:200px}.h-50{height:50px}.lh-50{line-height:50px}.fs-18{font-size:18px}.mr-20{margin-right:20px}.w-100{width:100px}.pt-12{padding-top:12px}.fs-20{font-size:20px}.mb-20{margin-bottom:20px}",""]),t.exports=o},672:function(t,e,n){"use strict";n.r(e);n(657),n(40),n(34),n(116),n(64),n(79),n(248),n(117),n(19),n(50),n(41),n(621);var o=n(660),c=n(608),r=n.n(c),l=n(609),d=n(115),h=n(601),m=n.n(h),v=n(606),f=n.n(v),w=m()(),y={head:function(){return{title:"日程"+d.a.sPageBaseTitle}},computed:{nTodoCheckCount:function(){return 100*(this.aTodoList.filter((function(i){return i.bCheck})).length/this.aTodoList.length).toFixed(3)}},components:{CalendarHeatmap:o.CalendarHeatmap},data:function(){var t=new Date;d.a.aTodoList.forEach((function(t){t.bCheck=!1}));return{sDateStr:"".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月").concat(t.getDate(),"日，星期").concat(["日","一","二","三","四","五","六"][t.getDay()]),sTimeStamp:"".concat(t.getFullYear()).concat(t.getMonth()+1).concat(t.getDate()),sToday:this.dateFormat(new Date,"yyyy-MM-dd"),aTodoList:d.a.aTodoList,aBJnews:[],aRMDailyNews:[],aEconomyDaily:[],aYangchengNews:[],aEnvironmentNews:[],aCankaoxiaoxi:[],sTodoMarkdown:"",oSport:{run:0,pushUp:0,sitUp:0,kaihe:0,tixi:0,shendun:0,taitui:0},sRoutineId:"",sWriteKey:"",bAuth:!1,bRoutineLoading:!1,aContribution:[]}},mounted:function(){this.getTodoMarkdown(),this.getTodayRoutine(),this.initNewsData(),this.getAllRoutine(),r.a.bind("alt + q",this.bindEditKey)},destroyed:function(){r.a.unbind("alt + q",this.bindEditKey)},methods:{decrease:function(t,e){this.bRoutineLoading||(this.oSport[t]-e>=0&&(this.oSport[t]-=e),this.updateTodayRoutine())},increase:function(t,e){this.bRoutineLoading||(this.oSport[t]+e<=100&&(this.oSport[t]+=e),this.updateTodayRoutine())},checkTodo:function(t){this.bAuth&&!this.bRoutineLoading&&(this.aTodoList[t].bCheck=!this.aTodoList[t].bCheck,this.updateTodayRoutine())},getTodoMarkdown:function(){var t=this;w.bucket({slug:"4d7c8cd0-2822-11ec-8e75-2f845ec5c57c",read_key:"KW8eCqNzGJ8U05aYWCUNHKueNH5COLxAOv1Ou71XIPArrTIDeU"}).getObjects({query:{slug:"todo"}}).then((function(e){var n=e.objects[0];t.sTodoMarkdown=n.metadata.blog_content}))},getBJnewsData:function(){for(var t=[{index:"A",num:20},{index:"B",num:8},{index:"C",num:8}],e=[],n=0,o=new Date,c=o.getMonth()+1,r="".concat(c>9?"":"0").concat(c),l=o.getDate(),d="".concat(l>9?"":"0").concat(l),i=0;i<t.length;i++)for(var h=0;h<t[i].num;h++)n="".concat(h>=9?"":"0").concat(h+1),e.push({url:"http://appimg2.tbnimg.com/ipaper/data/".concat(o.getFullYear(),"-").concat(r,"/").concat(d,"/").concat(t[i].index).concat(n,"/xjb").concat(o.getFullYear()).concat(r).concat(d).concat(t[i].index).concat(n,".pdf"),title:"".concat(t[i].index).concat(h+1,"版"),disable:!1});this.aBJnews=e},getRMDailyNewsData:function(){for(var t=[],e=new Date,n="".concat(e.getMonth()+1>9?"":"0").concat(e.getMonth()+1),o="".concat(e.getDate()>9?"":"0").concat(e.getDate()),i=0;i<20;i++){var c="".concat(i>=9?"":"0").concat(i+1);t.push({url:"http://paper.people.com.cn/rmrb/images/".concat(e.getFullYear(),"-").concat(n,"/").concat(o,"/").concat(c,"/rmrb").concat(e.getFullYear()).concat(n).concat(o).concat(c,".pdf"),disable:!1})}this.aRMDailyNews=t},getEconomyDailyNewsData:function(){for(var t=[],e=new Date,n="".concat(e.getMonth()+1>9?"":"0").concat(e.getMonth()+1),o="".concat(e.getDate()>9?"":"0").concat(e.getDate()),i=0;i<20;i++){var c="".concat(i>=9?"":"0").concat(i+1);t.push({url:"http://paper.ce.cn/jjrb/page/1/".concat(e.getFullYear(),"-").concat(n,"/").concat(o,"/").concat(c,"/").concat(e.getFullYear()).concat(n).concat(o).concat(c,"_pdf.pdf"),disable:!1})}this.aEconomyDaily=t},getEnvironmentNewsData:function(){for(var t=[],e=new Date,n="".concat(e.getMonth()+1>9?"":"0").concat(e.getMonth()+1),o="".concat(e.getDate()>9?"":"0").concat(e.getDate()),i=0;i<8;i++){var c="".concat(i>=9?"":"0").concat(i+1);t.push({url:"http://epaper.cenews.com.cn/html/1/".concat(e.getFullYear(),"-").concat(n,"/").concat(o,"/").concat(c,"B/").concat(e.getFullYear()).concat(n).concat(o).concat(c,"B_pdf.pdf"),disable:!1})}this.aEnvironmentNews=t},getYangchengData:function(){for(var t=[],e=0,n=new Date,o=n.getMonth()+1,c="".concat(o>9?"":"0").concat(o),r=n.getDate(),l="".concat(r>9?"":"0").concat(r),d=n.getFullYear(),i=0;i<16;i++){e="".concat(i>=9?"":"0").concat(i+1);var h="http://ep.ycwb.com/epaper/ycwb/resfile/".concat(d,"-").concat(c,"-").concat(l,"/A").concat(e,"/ycwb").concat(d).concat(c).concat(l,"A").concat(e,".pdf"),m="http://ep.ycwb.com/epaper/ycwb/resfile/".concat(d,"-").concat(c,"-").concat(l,"/A").concat(e,"G/ycwb").concat(d).concat(c).concat(l,"A").concat(e,"G.pdf");t.push({url:h,disable:!1}),i>0&&t.push({url:m,disable:!1})}this.aYangchengNews=t},initNewsData:function(){this.getBJnewsData(),this.getRMDailyNewsData(),this.getEconomyDailyNewsData(),this.getEnvironmentNewsData(),this.getYangchengData()},dateFormat:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return e},getTodayRoutine:function(){var t=this;this.bRoutineLoading=!0,w.bucket({slug:"4d7c8cd0-2822-11ec-8e75-2f845ec5c57c",read_key:"KW8eCqNzGJ8U05aYWCUNHKueNH5COLxAOv1Ou71XIPArrTIDeU"}).getObjects({query:{slug:this.sToday},props:"slug,title,id,metadata.todo,metadata.sport",sort:"created_at",limit:20}).then((function(e){var data=e.objects[0];t.aTodoList=data.metadata.todo,t.oSport.run=data.metadata.sport.run||0,t.oSport.pushUp=data.metadata.sport.pushUp||0,t.oSport.sitUp=data.metadata.sport.sitUp||0,t.oSport.kaihe=data.metadata.sport.kaihe||0,t.oSport.tixi=data.metadata.sport.tixi||0,t.oSport.shendun=data.metadata.sport.shendun||0,t.oSport.taitui=data.metadata.sport.taitui||0,t.sRoutineId=data.id})).catch((function(e){404==e.status&&t.sWriteKey&&t.addObject({title:t.sToday,slug:t.sToday,type:"routines",metafields:[{title:"todo",key:"todo",type:"json",value:d.a.aTodoList},{title:"sport",key:"sport",type:"json",value:t.oSport}]}).then((function(){t.getTodayRoutine()}))})).finally((function(){t.bRoutineLoading=!1}))},getAllRoutine:function(){var t=this;w.bucket({slug:"4d7c8cd0-2822-11ec-8e75-2f845ec5c57c",read_key:"KW8eCqNzGJ8U05aYWCUNHKueNH5COLxAOv1Ou71XIPArrTIDeU"}).getObjects({query:{type:"routines"},props:"slug,title,id,metadata.todo,metadata.sport",sort:"created_at",limit:20}).then((function(e){t.aContribution=e.objects.map((function(t){var e=0;return Object.keys(t.metadata.sport).forEach((function(i){return e+=t.metadata.sport[i]})),e+=t.metadata.todo.filter((function(i){return i.bCheck})).length/t.metadata.todo.length*100,e/=Object.keys(t.metadata.sport).length+1,{date:t.slug,count:e.toFixed(2)}}))})).catch((function(t){}))},updateTodayRoutine:function(){var t=this;this.bRoutineLoading=!0,this.saveObject({id:this.sRoutineId,title:this.sToday,slug:this.sToday,metafields:[{title:"todo",key:"todo",type:"json",value:this.aTodoList},{title:"sport",key:"sport",type:"json",value:this.oSport}]}).catch((function(){t.$message.warning("更新失败，请重试")})).finally((function(){t.bRoutineLoading=!1}))},addObject:function(t){var e=this;return new f.a((function(n,o){w.bucket({slug:"4d7c8cd0-2822-11ec-8e75-2f845ec5c57c",write_key:e.sWriteKey}).addObject(t).then((function(t){n(t)})).catch((function(t){o(t)}))}))},saveObject:function(t){var e=this;return new f.a((function(n,o){w.bucket({slug:"4d7c8cd0-2822-11ec-8e75-2f845ec5c57c",write_key:e.sWriteKey}).editObject(t).then((function(t){n(t)})).catch((function(t){o(t)}))}))},getAuth:function(){var t=this;return new f.a((function(e,n){if(t.sWriteKey)return t.bAuth=!0,e();Object(l.a)().then((function(n){t.sWriteKey=n,t.bAuth=!0,t.$message.success("授权成功"),e()})).catch((function(){t.$message.warning("密码错误"),n()}))}))},bindEditKey:function(){var t=this;this.getAuth().then((function(){t.getTodayRoutine()}))}}},C=(n(661),n(663),n(32)),component=Object(C.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-20"},[n("h2",{staticClass:"pb-15",staticStyle:{"border-bottom":"1px solid #eaecef"}},[t._v("历史数据")]),n("div",{staticClass:"bd-1 br-5 px-10 py-20"},[n("calendar-heatmap",{attrs:{values:t.aContribution,"end-date":t.sToday,"tooltip-unit":"% 完成度",max:100}})],1),n("h2",{staticClass:"pb-15",staticStyle:{"border-bottom":"1px solid #eaecef"}},[t._v(t._s(t.sDateStr)),t.bRoutineLoading?n("i",{staticClass:"el-icon-loading c-gray ml-20"}):t._e()]),n("div",{staticClass:"mt-10"},[n("h3",{staticClass:"inbl vtal-top my-10"},[t._v("日程")]),n("div",{staticClass:"inbl vtal-top w-730 h-46 vh-parent ml-200"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.nTodoCheckCount}})],1)]),n("div",{staticClass:"my-20"},t._l(t.aTodoList,(function(e,o){return n("div",{key:"todo-"+o,staticClass:"todo-item inbl vtal-top w-168 h-60 lh-60 bd-1 t-c mr-18 mb-10 br-4 pst-rlt cs-pt",style:e.bCheck?"background-color: #ddd":"",on:{click:function(e){return t.checkTodo(o)}}},[e.link?n("a",{staticStyle:{"text-decoration":"none",color:"blue"},attrs:{href:e.link+"?t="+t.sTimeStamp,target:"_blank"}},[t._v(t._s(e.title))]):n("span",[t._v(t._s(e.title))])])})),0),n("h3",[t._v("运动数据")]),n("div",{staticClass:"bd-1 br-8 px-20 py-10"},[n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("2公里")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.run}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("run",50)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("run",50)}}})],1):t._e()]),n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("100俯卧撑")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.pushUp}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("pushUp",20)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("pushUp",20)}}})],1):t._e()]),n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("100仰卧起坐")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.sitUp}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("sitUp",20)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("sitUp",20)}}})],1):t._e()]),n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("5组开合跳")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.kaihe}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("kaihe",20)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("kaihe",20)}}})],1):t._e()]),n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("5组提膝触肘")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.tixi}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("tixi",20)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("tixi",20)}}})],1):t._e()]),n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("5组深蹲")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.shendun}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("shendun",20)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("shendun",20)}}})],1):t._e()]),n("div",[n("div",{staticClass:"inbl vtal-top w-200 h-50 lh-50 fs-18 mr-20 t-c"},[t._v("5组高抬腿")]),n("div",{staticClass:"inbl vtal-top w-730 h-50 vh-parent mr-20"},[n("el-progress",{staticClass:"vh wp-100",attrs:{percentage:t.oSport.taitui}})],1),t.bAuth?n("div",{staticClass:"inbl vtal-top w-100 h-50 pt-12"},[n("el-button",{attrs:{icon:"el-icon-minus",size:"mini"},on:{click:function(e){return t.decrease("taitui",20)}}}),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini"},on:{click:function(e){return t.increase("taitui",20)}}})],1):t._e()])]),t.aBJnews&&t.aBJnews.length>0?n("div",[n("h3",{staticClass:"mb-10"},[t._v("新京报")]),t._l(t.aBJnews,(function(e,o){return n("a",{staticClass:"news inbl vtal-top h-50 lh-50 fs-20 w-100 t-c bd-1 br-4 mr-20 mb-20",style:e.disable?"color: gray; background: #ccc; pointer-events: none;":"",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(o+1))])}))],2):t._e(),t.aRMDailyNews&&t.aRMDailyNews.length>0?n("div",[n("h3",{staticClass:"my-10"},[t._v("人民日报")]),t._l(t.aRMDailyNews,(function(e,o){return n("a",{staticClass:"news inbl vtal-top h-50 lh-50 fs-20 w-100 t-c bd-1 br-4 mr-20 mb-20",style:e.disable?"color: gray; background: #ccc; pointer-events: none;":"",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(o+1))])}))],2):t._e(),t.aEconomyDaily&&t.aEconomyDaily.length>0?n("div",[n("h3",{staticClass:"mb-10"},[t._v("经济日报")]),t.aEconomyDaily&&t.aEconomyDaily.length>0?n("div",t._l(t.aEconomyDaily,(function(e,o){return n("a",{staticClass:"news inbl vtal-top h-50 lh-50 fs-20 w-100 t-c bd-1 br-4 mr-20 mb-20",style:e.disable?"color: gray; background: #ccc; pointer-events: none;":"",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(o+1))])})),0):t._e()]):t._e(),t.aEnvironmentNews&&t.aEnvironmentNews.length>0?n("div",[n("h3",{staticClass:"mb-10"},[t._v("中国环境报")]),t._l(t.aEnvironmentNews,(function(e,o){return n("a",{staticClass:"news inbl vtal-top h-50 lh-50 fs-20 w-100 t-c bd-1 br-4 mr-20 mb-20",style:e.disable?"color: gray; background: #ccc; pointer-events: none;":"",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(o+1))])}))],2):t._e(),t.aYangchengNews&&t.aYangchengNews.length>0?n("div",[n("h3",{staticClass:"mb-10"},[t._v("羊城晚报")]),t._l(t.aYangchengNews,(function(e,o){return n("a",{staticClass:"news inbl vtal-top h-50 lh-50 fs-20 w-100 t-c bd-1 br-4 mr-20 mb-20",style:e.disable?"color: gray; background: #ccc; pointer-events: none;":"",attrs:{href:e.url,target:"_blank"}},[t._v(t._s(o+1))])}))],2):t._e(),n("div",[n("h3",{staticClass:"mb-10"},[t._v("环球时报、参考消息")]),n("a",{staticClass:"news inbl vtal-top h-50 lh-50 fs-18 w-100 t-c bd-1 br-4 mr-20 mb-20",attrs:{href:"http://www.haitc.com/?t="+t.sTimeStamp,target:"_blank"}},[t._v("打开")])]),n("v-md-preview",{directives:[{name:"loading",rawName:"v-loading",value:!t.sTodoMarkdown,expression:"!sTodoMarkdown"}],staticStyle:{"min-height":"100px"},attrs:{text:t.sTodoMarkdown}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);